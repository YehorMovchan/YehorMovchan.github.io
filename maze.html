<!DOCTYPE html>
<html lang="RU">
<head>  
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="wall.css">
    <title>Document</title>
    <style>
        body{
            margin: 0px;
        }
        .g{
            transform:  rotate(270deg);
            position: absolute;
            left: 0px;
            top: 0px;
        }
        .main{
            margin: auto;
            width: 1050px;
            height: 1050px;
            border: 1px black solid;
            background-color: white;
            position: relative;
        }
        .goal{
            position: absolute;
        }
        .main_size{
            border: 1px black solid;
            width: 150px;
            height: max-content;
            top: 350px;
            position: absolute;
            left: 1800px;
        }
        .main_size input[type="radio"] {
            display: none;
        }
        .h{
            position: absolute;
            top: 290px;
            left: 1800px;
        }
        @media screen and (max-width:1920px) {
            .main{
                width:820px;
                height: 820px;
            }
            .h{
                left: 1400px;
            }
            .main_size{
                left: 1400px;
            }
        }
        @media screen and (max-width:1600px) {
            .main{
                width:600px;
                height: 600px;
            }
            .h{
                left: 1200px;
            }
            .main_size{
                left: 1200px;
            }
        }
        @media screen and (max-width:1400px) {
            .h{
                left: 1000px;
            }
            .main_size{
                left: 1000px;
            }
        }
        @media screen and (max-width:1200px) {
            .main{
                width: 480px;
                height: 480px;
            }
            .h{
                left: 850px;
                top: 150px;
            }
            .main_size{
                left: 850px;
                top: 220px;
            }
        }
        @media screen and (max-width:1024px) {
            .h{
                left: 780px;
                top: 150px;
            }
            .main_size{
                left: 780px;
                top: 220px;
            } 
        }
        @media screen and (max-width:768px) {
            .h{
                left: 300px;
                top: 600px;
            }
            .main_size{
                left: 300px;
                top: 650px;
            }
        }
        h1{
            margin: auto;
            text-align: center;
            font-size: 40pt;
        }
        .size{
            background-color: rgb(241, 239, 239);
            border-bottom: 1px rgb(39, 31, 31) solid;
            height: 30px;
            text-align: center;
            font-size: 20pt;
        }
        .restart{
            font-size: 20pt;
            text-align: center;
        }
        .size:hover{
            background-color: rgb(146, 148, 235);
            color: aliceblue;
        }
        .size input[type=radio]:checked+label{
            background-color: black;
            color: aliceblue;
        }
        .behind{
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.356);
            position:fixed;
            top: 0px;
            left: 0px;
            display: none;
        }
        .win{
            width: 500px;
            height: 400px;
            background-color: #fff;
            margin: auto;
            margin-top: 200px;
            text-align: center;
            font-size: 50pt;
            padding-top: 30px;
        }
        .winok{
            cursor: pointer;
            margin: auto;
            width: 250px;
            height: max-content;
            margin-top: 50px;
            color: #fff;
            border: 2px rgb(124, 75, 114) double;
            background: rgb(88, 83, 83);
        }
        .space{
            height: 20px;
        }   
        .footer {
            position: relative;
            margin-bottom: 0px;
            height: 100px;
            background: black; /* Цвет фона */
            color: #fff; /* Цвет текста */
            width: 100%; /* Ширина слоя */
            display: flex;
            justify-content: space-around;
            padding-top: 15px;
        }
        .adimg{ 
            width: 20px;
            height: 20px;
        }
        a{
            text-decoration: none;
            color: white;
        }
    </style>

</head>
<body onload='main()'>
    <h1>Назар лох обьелся блох</h1>
    <div class="full">
    <div class="main" id="main">
        <div class="g" id="g"> <img src="mouse.png" alt="" id="m"></div>
        <div class="goal" id="goal"><img src="cheese.png" alt="" id="c"></div>
        <div class="wall" id="wall"></div>
    </div>
    <div class="h"><h2>Choose size</h2></div>
    <div class="main_size">
        <div class="size"><input type="radio" name="size" value="5x5" id="size5" onchange="reload()"><label for="size5" style="display: block; width: 150px;">5x5</label><br></div>
        <div class="size"><input type="radio" name="size" value="10x10" id="size10" onchange="reload()"><label for="size10" style="display: block; width: 150px;">10x10</label><br></div>
        <div class="size"><input type="radio" name="size" value="15x15" id="size15" onchange="reload()"><label for="size15" style="display: block; width: 150px;">15x15</label><br></div>
        <div class="size"><input type="radio" name="size" value="20x20" id="size20" onchange="reload()"><label for="size20" style="display: block; width: 150px;">20x20</label><br></div>
        <div class="size"><input type="radio" name="size" value="30x30" id="size30" onchange="reload()"><label for="size30" style="display: block; width: 150px;">30x30</label><br> </div>
        <div class="restart" onclick="cl()">Restart</div>
    </div>
    </div>
    <div class="behind" id="behind">
        <div class="win">Congratulations!!! <br> You WIN!!!
            <div class="winok" onclick="cl()">Yippee!</div>
        </div>
    </div>
    <div class="space"></div>
    <div class="footer">
        <div class="ad"><a href="https://www.instagram.com/egormov21/" target="_blank"> Instagram: <img class="adimg" src="https://pngicon.ru/file/uploads/instagram.png" alt=""> </a></div>
        <div class="ad"><a href="https://twitter.com/kxlz4uGnr2XGlMu?t=HUWDYU7NLmMtULt7PSafvw&s=09" target="_blank"> Twitter: <img class="adimg" src="https://cdn.pixabay.com/photo/2018/06/22/19/03/logo-3491390_960_720.png" alt=""></a></div>
        <div class="ad"><a href="https://t.me/YehorMovchan" target="_blank"> Telegram: <img class="adimg" src="https://pngicon.ru/file/uploads/telegram-256x256.png" alt=""></a></div>
        <div class="ad">Email: egormch21@gmail.com</div>
    </div>
</body>
<cont>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.slim.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
<script src="generatormaze.js"></script>
<script>
    x_sq=0;
    y_sq=0;
    sq=[x_sq, y_sq];
    document.onkeydown=function(e){
        console.log(e.key) 
        switch(e.key){
            case 'ArrowRight':
            case 'в':
            case 'd':
                r=0;
                for(i=0; i<cell_count-1; i++){
                    if(sq.equals([x_sq, wvf[x_sq][i]])) {r=100; break;}
                }
                if(r!=100){
                    x_sq+=1;
                    sq=[x_sq, y_sq];
                    l=x_sq*wid;
                    $("#g").css('left', l);
                    $("#g").css('transform', 'rotate(270deg)');
                }
            break;
            case 'ArrowDown':
            case 'ы':
            case 's' :
                r=0;
                for(i=0; i<cell_count-1; i++){
                    if(sq.equals([whf[y_sq][i], y_sq])) {r=100; break;}
                }
                if(r!=100){
                    y_sq+=1;
                    sq=[x_sq, y_sq];
                    l=y_sq*wid;
                    $("#g").css('top', l);
                    $("#g").css('transform', 'rotate(0deg)');
                }
            break;
            case 'ArrowUp':
            case 'ц':
            case 'w' :
                r=0;
                for(i=0; i<cell_count-1; i++){
                    if(sq.equals([whf[y_sq-1][i], y_sq])) {r=100; break;}
                }
                if(r!=100){
                    y_sq-=1;
                    sq=[x_sq, y_sq];
                    l=y_sq*wid;  
                    $("#g").css('top', l);
                    $("#g").css('transform', 'rotate(180deg)');
                }
            break; 
            case 'ArrowLeft':
            case 'ф':
            case 'a' :   
                r=0;
                for(i=0; i<cell_count-1; i++){
                    if(sq.equals([x_sq, wvf[x_sq-1][i]])) {r=100; break;}
                }
                if(r!=100){
                    x_sq-=1;
                    sq=[x_sq, y_sq];
                    l=x_sq*wid;
                    $("#g").css('left', l);
                    $("#g").css('transform', 'rotate(90deg)');
                }
            break;
        };
        if(sq.equals(max))  view()
    }
</script>
</cont>
</html>
